Jeewanjyot Dhanjal Assignment 12

ExitProcess PROTO
.data
myArray QWORD 10d,20d,30d,40d
finalArray QWORD 4 DUP(0)

.code
main proc
	
	mov rcx, 4
	mov rsi, 0
	mov r15, 8

mov rcx, 4
mov rsi, 0
start loop
    mov rax, rsi
    mul r15
    mov rdi, rax
    mov rax, myArray[rax]
    call WriteInt64
end loop


	POOPLOOP:

		mov rax, rsi
		mul r15
		mov rdx, myArray[rax]

		cmp rsi, 3
		je HandleLast

		mov finalArray[rax + 8], rdx
		jmp EndLoop
		
		HandleLast:
		mov finalArray[0], rdx

		EndLoop:
		inc rsi
	LOOP POOPLOOP
  
mov rcx, 4
mov rsi, 0
start loop
    mov rax, rsi
    mul r15
    mov rdi, rax
    mov rax, finalArray[rax]
    call WriteInt64
end loop

	call ExitProcess
main endp
end
